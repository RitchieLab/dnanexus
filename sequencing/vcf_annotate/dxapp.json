{
  "name": "vcf_annotate",
  "title": "Annotate VCF File",
  "summary": "Use a variety of tools to annotate a sites-only VCF",
  "dxapi": "1.0.0",
  "version": "1.0.0",
  "openSource": true,
  "categories": [
    "Variation Calling"
  ],
  "details": {
    "upstreamLicense": ["GPLv3"],
    "whatsNew": "* 1.0.0: First vcf_annotate app release.",
    "citation": ""
  },
  "inputSpec": [
    {
      "name": "variants_vcfgz",
      "label": "VCF File(s)",
      "class": "array:file",
      "optional": false,
      "patterns": [
        "*.vcf.gz"
      ],
      "help": "The input VCF file(s)."
    },
    {
      "name": "variants_vcfgztbi",
      "label": "VCF File Indices",
      "class": "array:file",
      "optional": false,
      "patterns": [
        "*.vcf.gz.tbi"
      ],
      "help": "The input VCF index file(s)."
    },
    {
      "group": "Annotation Options",
      "name": "VEP",
      "label": "Run VEP (87)",
      "class": "boolean",
      "optional": false,
      "default": true,
      "help": "Annotate with VEP."
    },
    {
      "group": "Annotation Options",
      "name": "dbnsfp",
      "label": "Run dbNSFP (3.3a)",
      "class": "boolean",
      "optional": false,
      "default": true,
      "help": "Annotate with dbNSFP."
    },
    {
      "group": "Annotation Options",
      "name": "clinvar",
      "label": "Use CLINVAR (Jan2017)",
      "class": "boolean",
      "optional": false,
      "default": true,
      "help": "Annotate with ClinVar."
    },
    {
      "group": "Annotation Options",
      "name": "HGMD",
      "label": "Use HGMD (2016.4)",
      "class": "boolean",
      "optional": false,
      "default": true,
      "help": "Annotate with HGMD."
    },
    {
      "group": "Annotation Options",
      "name": "annotate_header",
      "label": "Annotations",
      "class": "boolean",
      "optional": true,
      "default": false,
      "help": "True: Annotate Header with VEP; False: Annotate VCF from VEP Annotated Header Files."
    },
    {
      "group": "Build Options",
      "name": "build_version",
      "label": "NCBI Build Version",
      "class": "string",
      "choices": [
        "b38",
        "b37_decoy"
      ],
      "default": "b38",
      "optional": true,
      "help": "Which build to use. [THIS IS CURRENTLY IGNORED; ONLY b38 IS SUPPORTED]"
    }
  ],
  "outputSpec": [
    {
      "name": "out_variants_vcfgz",
      "label": "VCF File(s)",
      "class": "array:file",
      "patterns": [
        "*.vcf.gz"
      ],
      "help": "The output VCF file(s)."
    },
    {
      "name": "out_variants_vcfgztbi",
      "label": "VCF File Indices",
      "class": "array:file",
      "patterns": [
        "*.vcf.gz.tbi"
      ],
      "help": "The output VCF index file(s)."
    }
  ],
  "runSpec": {
    "assetDepends": [
      {
        "name": "cpanminus"
      },
      {
        "name": "libtest-mockmodule-perl"
      },
      {
        "name": "libcpan-meta-yaml-perl"
      },
      {
        "name": "libcpan-meta-perl"
      },
      {
        "name": "vcftools"
      },
      {
        "name": "libdbi-perl"
      },
      {
        "name": "tabix"
      }
    ],
    "interpreter": "bash",
    "file": "src/vcf_annotate.sh",
    "timeoutPolicy": {
      "*": {
        "hours": 8
      }
    },
    "release": "14.04",
    "distribution": "Ubuntu"
  },
  "regionalOptions": {
    "aws:us-east-1": {
      "systemRequirements": {
        "main": {
          "instanceType": "mem1_ssd1_x2"
        },
        "*": {
          "instanceType": "mem1_ssd1_x32"
        }
      },
      "assetDepends": [
        {
          "name": "marylyn_asset",
          "id": "record-FJ3zf8j08zVZFzqYG88Pbk7z"
        }
      ],
      "resources": [
        "project-FGqF5B00ByvPXG4G87yQy23G"
      ]
    },
    "azure:westus": {
      "systemRequirements": {
        "main": {
          "instanceType": "azure:mem1_ssd1_x2"
        },
        "*": {
          "instanceType": "azure:mem4_ssd1_x16"
        }
      },
      "assetDepends": [
        {
          "name": "marylyn_asset",
          "id": "record-FJ4058j9Vf9ZBBVB2Q7b3VQz"
        }
      ],
      "resources": [
        "project-FGvp3009BJq40pkZ683v3754"
      ]
    }
  },
  "access": {
    "network": [
      "*"
    ]
  }
}
